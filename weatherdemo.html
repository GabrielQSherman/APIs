<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <h1>Weather In My City</h1>
    
    <p id="weather"></p>

    <button id="button">CLICK for the current weather in your city</button>

    <script>

    //my weather data that will be used to insert into the DOM
    const myWeatherData = {
                temp: 0,
                humid: true,
                windy: true,
                percipType: 'rain',
                cloudy: 'very',

    }
    
    //button that grabs data and sends info through XHR
    document.getElementById('button').addEventListener('click', getWeather);


    //variables that get correct location weather data and my personal API Key for openweathermap.org
    let endPoint = `https://api.openweathermap.org/data/2.5/weather?zip=02916,us&APPID=`; //CHANGE 02916 to your zipcode
          
    const myKey = `1d9310268663c451264a0a75aef60939`; //ENTER YOUR KEY FROM YOUR SIGN UP EMAIL HERE

          endPoint += myKey;

        //this will log a url that when clicked on brings you to a new page with the current weather in Rumford RI (02916) 
        //data will be displayed as JSON code
          
          
    function getWeather() {
        //constructor: create an instace of the Extended-Markup-Language-HyperText-Request

        const xhr = new XMLHttpRequest();

        //open

        xhr.open('GET', endPoint, true);

        //onload callback

        xhr.onload = () => {

            const weatherData = JSON.parse(xhr.responseText);

            document.getElementById('weather').innerHTML += weatherData.name;

            



        }

        //send SEEENNDDIT

        xhr.send();
        
    }
    
    </script>
</body>
</html>